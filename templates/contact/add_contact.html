{% extends 'dashboard/base_dashboard.html' %}

{% block title %}Agregar contacto{% endblock %}

{% block extra_css %}
<!-- Incluir CDN de Bootstrap para un diseño más limpio -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEJ02Q3QF3CoiQ03VwczYPHPwVv6Z7mdRlM0v9G+I6ZpT2kl8d5eGz5V0jiFi" crossorigin="anonymous">
{% endblock %}

{% block content %}
<div class="container py-5">
  <h2 class="form-title text-center mb-4">Agregar Contacto</h2>

  <div class="form-wrapper shadow-lg p-5 rounded-3 bg-white">
    <form method="post">
      {% csrf_token %}

      <div class="row">
        <!-- Primer nombre -->
        <div class="col-md-6 mb-3">
          {{ form.first_name.label_tag }}
          <input type="text" class="form-control" name="first_name" value="{{ form.first_name.value }}">
          {% if form.first_name.errors %}
            <div class="text-danger small">{{ form.first_name.errors }}</div>
          {% endif %}
        </div>

        <!-- Segundo nombre -->
        <div class="col-md-6 mb-3">
          {{ form.second_name.label_tag }}
          <input type="text" class="form-control" name="second_name" value="{{ form.second_name.value }}">
          {% if form.second_name.errors %}
            <div class="text-danger small">{{ form.second_name.errors }}</div>
          {% endif %}
        </div>

        <!-- Primer apellido -->
        <div class="col-md-6 mb-3">
          {{ form.last_name.label_tag }}
          <input type="text" class="form-control" name="last_name" value="{{ form.last_name.value }}">
          {% if form.last_name.errors %}
            <div class="text-danger small">{{ form.last_name.errors }}</div>
          {% endif %}
        </div>

        <!-- Segundo apellido -->
        <div class="col-md-6 mb-3">
          {{ form.second_last_name.label_tag }}
          <input type="text" class="form-control" name="second_last_name" value="{{ form.second_last_name.value }}">
          {% if form.second_last_name.errors %}
            <div class="text-danger small">{{ form.second_last_name.errors }}</div>
          {% endif %}
        </div>

        <!-- Teléfono principal -->
        <div class="col-md-6 mb-3">
          {{ form.phone.label_tag }}
          <input type="text" class="form-control" name="phone" value="{{ form.phone.value }}">
          {% if form.phone.errors %}
            <div class="text-danger small">{{ form.phone.errors }}</div>
          {% endif %}
        </div>

        <!-- Teléfono secundario -->
        <div class="col-md-6 mb-3">
          {{ form.secondary_phone.label_tag }}
          <input type="text" class="form-control" name="secondary_phone" value="{{ form.secondary_phone.value }}">
          {% if form.secondary_phone.errors %}
            <div class="text-danger small">{{ form.secondary_phone.errors }}</div>
          {% endif %}
        </div>

        <!-- Correo electrónico -->
        <div class="col-md-6 mb-3">
          {{ form.email.label_tag }}
          <input type="email" class="form-control" name="email" value="{{ form.email.value }}">
          {% if form.email.errors %}
            <div class="text-danger small">{{ form.email.errors }}</div>
          {% endif %}
        </div>

        <!-- Compañía -->
        <div class="col-md-6 mb-3">
          {{ form.company.label_tag }}
          <select class="form-control" name="company">
            <!-- Options go here -->
          </select>
          {% if form.company.errors %}
            <div class="text-danger small">{{ form.company.errors }}</div>
          {% endif %}
        </div>

        <!-- Puesto de trabajo -->
        <div class="col-md-6 mb-3">
          {{ form.position.label_tag }}
          <input type="text" class="form-control" name="position" value="{{ form.position.value }}">
          {% if form.position.errors %}
            <div class="text-danger small">{{ form.position.errors }}</div>
          {% endif %}
        </div>

        <!-- Dirección -->
        <div class="col-md-6 mb-3">
          {{ form.address.label_tag }}
          <input type="text" class="form-control" name="address" value="{{ form.address.value }}">
          {% if form.address.errors %}
            <div class="text-danger small">{{ form.address.errors }}</div>
          {% endif %}
        </div>

        <!-- Ciudad -->
        <div class="col-md-6 mb-3">
          {{ form.city.label_tag }}
          <input type="text" class="form-control" name="city" value="{{ form.city.value }}">
          {% if form.city.errors %}
            <div class="text-danger small">{{ form.city.errors }}</div>
          {% endif %}
        </div>

        <!-- Estado -->
        <div class="col-md-6 mb-3">
          {{ form.state.label_tag }}
          <input type="text" class="form-control" name="state" value="{{ form.state.value }}">
          {% if form.state.errors %}
            <div class="text-danger small">{{ form.state.errors }}</div>
          {% endif %}
        </div>

        <!-- País -->
        <div class="col-md-6 mb-3">
          {{ form.country.label_tag }}
          <input type="text" class="form-control" name="country" value="{{ form.country.value }}">
          {% if form.country.errors %}
            <div class="text-danger small">{{ form.country.errors }}</div>
          {% endif %}
        </div>

        <!-- NIF -->
        <div class="col-md-6 mb-3">
          {{ form.nif.label_tag }}
          <input type="text" class="form-control" name="nif" value="{{ form.nif.value }}">
          {% if form.nif.errors %}
            <div class="text-danger small">{{ form.nif.errors }}</div>
          {% endif %}
        </div>

        <!-- Fecha de nacimiento -->
        <div class="col-md-6 mb-3">
          {{ form.date_of_birth.label_tag }}
          <input type="date" class="form-control" name="date_of_birth" value="{{ form.date_of_birth.value }}">
          {% if form.date_of_birth.errors %}
            <div class="text-danger small">{{ form.date_of_birth.errors }}</div>
          {% endif %}
        </div>

        <!-- Género -->
        <div class="col-md-6 mb-3">
          {{ form.gender.label_tag }}
          <input type="text" class="form-control" name="gender" value="{{ form.gender.value }}">
          {% if form.gender.errors %}
            <div class="text-danger small">{{ form.gender.errors }}</div>
          {% endif %}
        </div>

        <!-- Nacionalidad -->
        <div class="col-md-6 mb-3">
          {{ form.nationality.label_tag }}
          <input type="text" class="form-control" name="nationality" value="{{ form.nationality.value }}">
          {% if form.nationality.errors %}
            <div class="text-danger small">{{ form.nationality.errors }}</div>
          {% endif %}
        </div>

        <!-- Notas -->
        <div class="col-md-12 mb-3">
          {{ form.notes.label_tag }}
          <textarea class="form-control" name="notes">{{ form.notes.value }}</textarea>
          {% if form.notes.errors %}
            <div class="text-danger small">{{ form.notes.errors }}</div>
          {% endif %}
        </div>
      </div>

      <!-- Botones de acción -->
      <div class="d-flex justify-content-between mt-4">
        <button type="submit" class="btn btn-primary">Guardar</button>
        <a href="{% url 'contact_app:contact_list' %}" class="btn btn-secondary">Cancelar</a>
      </div>
    </form>
  </div>
</div>

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}
{% endblock %}
